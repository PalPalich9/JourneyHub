# JourneyHub

Это проект для поиска маршрутов и планирования путешествий.

## Описание
- Использует Spring Boot, JPA для PostgreSQL, Redis, Jwt auth.
- Интерфейс реализован с помощью React + Vite.

## Установка
1. Склонируйте репозиторий.
2. Установите **Docker Desktop**: https://docs.docker.com/compose/install/
3. Откройте **Docker Desktop**
4. Откройте директорию **JourneyHub**
5. Запустите файл **start.bat**
6. При первом запуске приложения, подождите 2-3 минуты до полной установки дампа

## Функционал
- Поиск маршрутов между указанными городами с указанного времени отправления
- Поиск всех маршрутов между городами на 14 дней вперед
- Вход / Регистрация
- Бронирование билетов
- Отмена билетов
- Управление пассажирами

## Поиск маршрутов между указанными городами с указанного времени отправления
- **Обязательные пункты:**
1. Введите в поле **'Откуда'** город отправления **(обязательно кириллицей)**. Например: Москва
2. Введите в поле **'Куда'** город прибытия **(обязательно кириллицей)**. Например: Воронеж
3. Введите в поле **'ДД'** день отправления
4. Введите в поле **'ММ'** месяц отправления. Обязательно будущий. Если ввести будущий, то поиск будет искать маршруты на следующий год
5. Нажмите на кнопку 'Искать'

- **Необязательные пункты**
1. Введите в поле **'ЧЧ'** час отправления. Будут искаться только маршруты позже отправленного времени
2. Введите в поле **'ММ'**, правее занчка часов минуты отправления. Будут искаться только маршруты позже отправленного времени
3. Нажмите на квадратик **'С пересадками'**. Будут дополнительно искаться маршруты с 1 пересадкой
4. Нажмите на квадратик **'2+ пересадки'**. Будут дополнительно искаться маршруты с 2 и 3 пересадками
5. Нажмите на выпадающий список **'По времени'** и выберите желаемый вариант сортировки маршрутов.
6. Нажмите на квадратик сверху **'mix', 'air', 'train' или 'bus'**. Поиск будет фильтроваться только для выбранного типа трансопрта. **Mix** - ищутся все виды транспорта 

- **!!! Важно !!!**
  - в приложении представлены варианты поиска между следующими городами:
  - Волгоград, Воронеж, Екатеринбург, Ижевск, Казань, Краснодар, Красноярск, Москва, Нижний Новгород, Новосибирск, Омск, Пермь, Растов-На-Дону, Самара, Санкт-Петербург, Саратов, Тольятти, Тюмень, Уфа, Челябинск, Якутск
  - Также есть путь для тестирования поиска с **'2+ пересадки'**: Липецк -> Гаити


## Поиск маршрутов между указанными городами на 2 недели вперед
- **Обязательные пункты:**
1. Введите в поле **'Откуда'** город отправления (обязательно кириллицей). Например: Москва
2. Введите в поле **'Куда'** город прибытия (обязательно кириллицей). Например: Воронеж
3. Нажмите на кнопку **'Искать'**

- **Необязательные пункты**
1. Нажмите на выпадающий список **'По времени'** и выберите желаемый вариант сортировки маршрутов. 
2. Нажмите на квадратик сверху **'mix', 'air', 'train' или 'bus'**. Поиск будет фильтроваться только для выбранного типа трансопрта. **Mix** - ищутся все виды транспорта

- **Ограничения**
1. Если указать дату отправления или время, то будет работать 'Поиск маршрутов между указанными городами с указанного времени отправления'
2. **'С пересадками'** или **'2+ пересадки'** ни на что не влияют в поиске маршрутов между указанными городами на 2 недели вперед

- **!!! Важно !!!**
    - в приложении представлены варианты поиска между следующими городами:
    - Волгоград, Воронеж, Екатеринбург, Ижевск, Казань, Краснодар, Красноярск, Москва, Нижний Новгород, Новосибирск, Омск, Пермь, Растов-На-Дону, Самара, Санкт-Петербург, Саратов, Тольятти, Тюмень, Уфа, Челябинск, Якутск
    

## Регистрация аккаунта
1. Нажмите на кнопку **'Profile'**
2. Если вы на странице **'Вход'** нажмите на кнопку **'Регистрация'**
3. Введите фамилию в поле **'Фамилия'**
4. Введите имя в поле **'Имя'**
5. Введите ваш e-mail в поле **'E-mail'**
6. Введите ваш пароль в поле **'Пароль'**
7. Повторите пароль в поле **'Повторите пароль'**
8. Нажмите на кнопку **'Зарегистрироваться'**


## Вход в аккаунт
1. Нажмите на кнопку **'Profile'** 
2. Если вы на странице **'Регистрация'** нажмите на кнопку **'Вход'**
3. Введите ваш e-mail в поле **'E-mail'** 
4. Введите ваш пароль в поле **'Пароль'**
5. Нажмите на кнопку **'Войти'**

## Выход из аккаунта
1. Нажмите на кнопку **'Profile'**
2. Нажмите на кнопку **'Выход'** 

## Добавление пассажира
1. Если вы находитесь на главной странице нажмите на кнопку **'Profile'**
2. Нажмите на кнопку **'Мои пассажиры'**
3. Нажмите на кнопку **'Добавить пассажира'**
4. Введите в поля **'Фамилия'**, **'Имя'** фамимлию и имя пассажира
5. При наличии отчества введите в поле его **'Отчество'** 
6. Если пассажир имеет паспорт введите в поле **'Серия паспорта'** серию паспорта
7. Если пассажир имеет паспорт введите в поле **'Номер паспорта'** номер паспорта. Если пассажир младше 14 лет введите номер свидетельства о рождении
8. Выберите пол в выпадающем списке **'Выберите пол'**
9. Укажите дату рождения в формате ддммгггг
10. Нажмите на кнопку **'Сохранить'**


## Просмотр пассажира
1. Если вы находитесь на главной странице нажмите на кнопку **'Profile'**
2. Нажмите на кнопку **'Мои пассажиры'**
3. Нажмите на иконку **'Info'** на карточке пассажира

## Удаление пассажира
1. Если вы находитесь на главной странице нажмите на кнопку **'Profile'**
2. Нажмите на кнопку **'Мои пассажиры'**
3. Нажмите на кнопку **'Trash'** на карточке пассажира
4. Нажмите в диалоговом окне на кнопку **'Да'**


## Бронирование билетов
1. Выберите маршрут
2. Нажмите на кнопку **'Выбрать место'**
3. Выберите понравившееся место
4. Если вы не защли в аккаунт нажмите на кнопку **'Доавбить пассажира'** и войдите в аккаунт
5. Если у вас нет пассажира нажмите на кнопку **'Добавить пассажира'** и добавьте пассажира
6. В выпадающем списке **'Пассажир'** выберите пассажира, на которого хотите забронировать билеты
7. Нажмите на кнопку **'Купить'**

## Просмотр забронированных билетов
1. Если вы находитесь на главной странице нажмите на кнопку **'Profile'**
2. Нажмите на кнопку **'Мои билеты'**
3. В выпадающем списке **'Пассажир'** выберите пассажира на которого хотите посмотреть билеты. **'Все'** - просмотр билетов забронированных этим пользователем
4. При нажатии на квадратик **'Показать прошлые билеты'** будут показаны прошлые билеты
5. Для обновления списка нажмите на кнопку **'Обновить'** 

## Отмена билета
1. Если вы находитесь на главной странице нажмите на кнопку **'Profile'**
2. Нажмите на кнопку **'Мои билеты'**
3. Нажмите на кнопку **'Вернуть билет'** в карточке соответсвующего билета


